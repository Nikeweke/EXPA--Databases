(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{168:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[s("a",{attrs:{href:"https://robomongo.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Browser for db"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/Nikeweke/Mongo-Node",target:"_blank",rel:"noopener noreferrer"}},[t._v("Example with Node"),s("OutboundLink")],1)]),t._v(" "),s("hr"),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("hr"),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),s("p",[t._v('Эти комманды создатут пользователя с им. "myAdmin", в папке "System > Users" и в папке "Collections > System > system.users" пользователя. С помощью "roles" можно дать права пользователю на определенные БД')]),t._v(" "),t._m(12),t._m(13),t._v(" "),s("p",[t._v("By default authentication on MongoDB disabled and this is a reason why built-in roles doesn't work.\nHow to fix it :\nEnable authentication in mongod configuration file")]),t._v(" "),t._m(14),t._v(" "),t._m(15),s("p",[t._v("and make restart for mongod service:")]),t._v(" "),t._m(16),s("p",[t._v("Create new user in mongodb and set read permission:")]),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" Mongodb")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"содержание"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#содержание","aria-hidden":"true"}},[this._v("#")]),this._v(" Содержание")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Install(Unix)")]),t._v(" "),s("li",[t._v("Install and start(Windows)")]),t._v(" "),s("li",[t._v("Top commands")]),t._v(" "),s("li",[t._v("Make user admin")]),t._v(" "),s("li",[t._v("Problem with built-in roles")]),t._v(" "),s("li",[t._v("Class MongoClient not found (php)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"install-unix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-unix","aria-hidden":"true"}},[this._v("#")]),this._v(" Install(Unix)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\necho "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.6 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.6.list\nsudo apt-get update\nsudo apt-get install -y mongodb-org\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"install-and-start-windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-and-start-windows","aria-hidden":"true"}},[this._v("#")]),this._v(" Install and start(Windows)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Установить - https://www.mongodb.com/download-center?jmp=nav#community")]),t._v(" "),s("li",[t._v("Добавить в строку системных переменных "),s("strong",[t._v("Path")]),t._v(" путь к папке "),s("strong",[t._v("Mongodb\\bin")])]),t._v(" "),s("li",[t._v("в консоле запустить mongo daemon: "),s("code",[t._v("> mongod")])]),t._v(" "),s("li",[t._v("подключиться к БД shell: "),s("code",[t._v("> mongo")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"top-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#top-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Top commands")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("mongod")]),t._v(" - запуск БД демона")]),t._v(" "),s("li",[s("strong",[t._v("mongod --config C:\\path\\to\\Mongodb\\mongod.cfg")]),t._v(" - запустить mongo с настройками из файла")]),t._v(" "),s("li",[s("strong",[t._v("mongo")]),t._v(" - подсоедениться к БД оболочке(shell)")]),t._v(" "),s("li",[s("strong",[t._v("show databases")]),t._v(" - показать все БД")]),t._v(" "),s("li",[s("strong",[t._v("show collections")]),t._v(" - показать все коллекции")]),t._v(" "),s("li",[s("strong",[t._v("use db_name")]),t._v(" - переключиться на БД")]),t._v(" "),s("li",[s("strong",[t._v("sudo service mongod start(stop, restart)")]),t._v(" - действия с mongod")]),t._v(" "),s("li",[s("strong",[t._v("sudo service mongod status")]),t._v(" - посмотреть статус")]),t._v(" "),s("li",[s("strong",[t._v("mongo --port 27017")]),t._v(" - указать порт для подключения")]),t._v(" "),s("li",[s("strong",[t._v("mongo --host www.example.com:27017")]),t._v(" - указать порт и хост для подключения")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"commands-in-shell"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commands-in-shell","aria-hidden":"true"}},[this._v("#")]),this._v(" Commands in Shell")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("use mydb\n\n# SELECT\ndb.users.find({})\n\n#SELECT with where\ndb.users.find({name: 'Alex'})\n\n# INSERT\ndb.users.save({name: 'Vasiliy'})\n\n# REMOVE where NAME\ndb.users.remove({email: 'Ivanko'})\n\n# UPDATE\ndb.users.update({password: 'asdasdd' }, {email: 'Ivanko'})\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"make-user-admin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#make-user-admin","aria-hidden":"true"}},[this._v("#")]),this._v(" Make user admin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> mongo\n> use admin\n> db.createUser({user: 'myAdmin', pwd: '12345', roles: [{role:'dbOwner', db:'project'}]})\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"problem-with-built-in-roles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#problem-with-built-in-roles","aria-hidden":"true"}},[this._v("#")]),this._v(" Problem with built-in roles")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Open "),e("code",[this._v("/etc/mongod.conf")]),this._v(" with your favorite code editor and search for the following lines:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('security:\nauthorization: "enabled"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sudo service mongodb restart\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('db.createUser(\n{\nuser:"readonly",\npwd:"What ever you need",\nroles:[{role:"read",db:"Name of db for selected user"}]\n}\n)\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"class-mongoclient-not-found-php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#class-mongoclient-not-found-php","aria-hidden":"true"}},[this._v("#")]),this._v(" Class MongoClient not found (php)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Добавить "),e("code",[this._v("extension=mongo.so")]),this._v(" в "),e("code",[this._v("/etc/php5/cli/php.ini")]),this._v(" & "),e("code",[this._v("/etc/php5/apache2/php.ini")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sudo apt-get install php5.6-mongo\n")])])])}],!1,null,null,null);a.options.__file="mongo.md";e.default=a.exports}}]);